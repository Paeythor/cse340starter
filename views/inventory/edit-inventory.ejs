<% layout('layouts/layout') %>

<h1>Edit <%= item.inv_make %> <%= item.inv_model %></h1>

<% if (errors && errors.length > 0) { %>
  <div class="error-messages">
    <ul>
      <% errors.forEach(function(error) { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<form action="/inv/update" method="post">
  <label for="classification_id">Classification</label><br>
  <%= classificationSelect %><br><br>

  <label for="inv_make">Make</label><br>
  <input type="text" id="inv_make" name="inv_make" required 
         value="<%= typeof inv_make != 'undefined' ? inv_make : item.inv_make %>"><br><br>

  <label for="inv_model">Model</label><br>
  <input type="text" id="inv_model" name="inv_model" required 
         value="<%= typeof inv_model != 'undefined' ? inv_model : item.inv_model %>"><br><br>

  <label for="inv_year">Year</label><br>
  <input type="number" id="inv_year" name="inv_year" required 
         value="<%= typeof inv_year != 'undefined' ? inv_year : item.inv_year %>"><br><br>

  <label for="inv_description">Description</label><br>
  <textarea id="inv_description" name="inv_description" required><%= typeof inv_description != 'undefined' ? inv_description : item.inv_description %></textarea><br><br>

  <label for="inv_image">Image Path</label><br>
  <input type="text" id="inv_image" name="inv_image" required 
         value="<%= typeof inv_image != 'undefined' ? inv_image : item.inv_image %>"><br><br>

  <label for="inv_thumbnail">Thumbnail Path</label><br>
  <input type="text" id="inv_thumbnail" name="inv_thumbnail" required 
         value="<%= typeof inv_thumbnail != 'undefined' ? inv_thumbnail : item.inv_thumbnail %>"><br><br>

  <label for="inv_price">Price</label><br>
  <input type="number" id="inv_price" name="inv_price" required step="0.01"
         value="<%= typeof inv_price != 'undefined' ? inv_price : item.inv_price %>"><br><br>

  <label for="inv_miles">Miles</label><br>
  <input type="number" id="inv_miles" name="inv_miles" required 
         value="<%= typeof inv_miles != 'undefined' ? inv_miles : item.inv_miles %>"><br><br>

  <label for="inv_color">Color</label><br>
  <input type="text" id="inv_color" name="inv_color" required 
         value="<%= typeof inv_color != 'undefined' ? inv_color : item.inv_color %>"><br><br>

  <!-- Hidden field to send inv_id -->
  <input type="hidden" name="inv_id" value="<%= item.inv_id %>">

  <button type="submit">Update Inventory</button>
</form>
